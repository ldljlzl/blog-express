doctype html
html
    head
        title 后台管理页面
        meta(http-equiv='Content-type',content="text/html;charset=utf-8")  
        link(href="/public/style/bootstrap.min.css",rel="stylesheet")
        link(href="/public/style/admin/users.css",rel="stylesheet")
        script(type="text/javascript",src="/public/js/jquery.js")
    body
        div(class="page-header")
                h1 后台管理页面
                    small 管理分类、文章、评论、用户等等
            nav(class="navbar navbar-default")
                div(class="container-fluid")
                    div(class="collapse navbar-collapse" id="bs-example-navbar-collapse-1")
                        ul(class="nav navbar-nav")
                            li
                                a(href="#") 分类管理
                            li 
                                a(href="/admin/category") 文章管理
                            li(class="active")
                                a(href="/admin/users") 用户管理   
        div(class="panel panel-default")
            div(class="panel-body")
                p 这里可以查看、编辑用户名单
            //-显示用户列表   
            - let page_user_num=4
            - let page_num=Math.ceil(users.length/page_user_num) 
            - let users_show=users.slice((page_index-1)*page_user_num,page_index*page_user_num)
            table(class="table")
                tr 
                    th 用户名
                    th 密码
                    th 是否是管理员  
                    th            
                each item in users_show
                    tr
                        td(class='editAllow')= item.account
                        td(class='editAllow')= item.password
                        td(class='editAllow')= item.isAdmin.toString()
                        td 
                            img(src='/public/img/edit.png' alt='edit' class='edit')
                            | 
                            img(src='/public/img/delete.png' alt='delete' class='delete')
            //- 显示页码
            nav(aria-label="Page navigation")
                ul(class="pagination")
                    -let pre=(parseInt(page_index)-1).toString()
                    -let next=(parseInt(page_index)+1).toString()
                    - if(page_index>1)  
                        li
                            a(href="?page="+pre aria-label="Previous")
                                span(aria-hidden="true")&laquo; 
                    - for (let i=1;i<=page_num;i++)              
                        li
                            a(href="/admin/users/?page="+i)= i
                    - if(page_index<page_num)        
                        li
                            a(href="?page="+next aria-label="Next")
                                span(aria-hidden="true")&raquo;   
            div.back
                a 
                    | 返回后台管理首页                                                 
        script(type="text/javascript",src="/public/js/admin/users.js")